{"version":3,"sources":["re_com/selection_list.cljs"],"mappings":";;;;;;;AAUA,AAAA,AAAA,AAAAA,AAAME;AAAN,AAAA,AAAAD,AAAA,AAAA;AAAA,AAAA,AAAAA;AAAA;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;AAAA;AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA;;;;AAAA,AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA;;;;;AAAA,AAAA,AAAA,AAAMD,AACFE,AAAUC;AADd,AAEI,AAAA,AAACC,AAAYF,AAAUC;;;AAF3B,AAAA,AAAA,AAAMH,AAIFE,AAAUC,AAAeE;AAJ7B,AAMI,AAAA,AAAA,AAAA,AAAMC;AACAA,AAAW,AAAI,AAAAC,AAAKL;AAAL,AAAA,AAAAK;AAAeJ;;AAAfI;;AACF,AAAA,AAAA,AAAA,AAACC,AAAMF,AACPA;AACbA,AAAW,AAAI,AAAAC,AAAKL;AAAL,AAAA,AAAAK;AAAeF;;AAAfE;;AACF,AAAA,AAAA,AAACC,AAAMF,AAAmBD,AAC1BC;AANnB,AAOMA;;;AAbV,AAAA,AAAA,AAAMN;;AAAN,AAgBA,AAAA,AAAOS,AACJC,AAAWC,AAAQC,AAAQC;AAD9B,AAEE,AAAMC,AAAa,AAACC,AAAML;AACpBM,AAAa,AAAA,AAAA,AAAM,AAAA,AAACC,AAAIH,AAAc,AAACI,AAAMR;AADnD,AAEE,AAAI,AAAAH,AAAKM;AAAL,AAAA,AAAAN;AAAe,AAACU,AAAED,AAAUL;;AAA5BJ;;;AACFG;;AACA,AAAIE;AAAQ,AAACO,AAAKT,AAAWC;;AAAS,AAACS,AAAKV,AAAWC;;;;AAE7D,AAAA,AAAOU,AACJC,AAAKC,AAAMb,AAAWc,AAAUC,AAAUC,AAASb,AAAUV;AADhE,AAGE,AAAMQ,AAAQ,AAACY,AAAAA,AAAAA,AAAMD,AAAAA;AAArB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGK,AAEiB,AAAAC;AAAA,AAAY,AAAUH;AAAV;AAAA,AACE,AAAAI,AAAW,AAACpB,AAAcC,AAAWC,AAAQ,AAACmB,AAAI,AAACpB,AAAAA,AAAAA,AAAWC,AAAAA,AAAUE;AAAxE,AAAA,AAAAgB,AAAAA,AAACL,AAAAA,AAAAA;;;AADf;AAHpB,AAAA,AAAA,AAAA,AAAA,AAKWO,AACO,AAAA,AAAA,AAAO,AAACrB,AAAAA,AAAAA,AAAWC,AAAAA;AANrC,AAAA;AAAA,AAAA,AAAA,AAQsBc,AACE,AAACO,AAAY,AAACtB,AAAAA,AAAAA,AAAWC,AAAAA,AAASR,AACxC,AAACuB,AAAAA,AAAAA,AAASJ,AAAAA;;AAG9B,AAAA,AAAOW,AACJvB,AAAWC,AAAQE;AADtB,AAEE,AAAI,AAAAN,AAAKM;AAAL,AAAA,AAAAN;AAAe,AAACG,AAAAA,AAAAA,AAAWC,AAAAA;;AAA3BJ;;;AACFG;;AACA,AAAI,AAACA,AAAAA,AAAAA,AAAWC,AAAAA;AAAhB;;AAAA,AAA+BA;;;;AAEnC,AAAA,AAAOuB,AACJZ,AAAKC,AAAMb,AAAWc,AAAUC,AAAUC,AAASb,AAAUV;AADhE,AAEE,AAAMQ,AAAQ,AAACY,AAAAA,AAAAA,AAAMD,AAAAA;AAArB,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACGK,AAEiB,AAAAC;AAAA,AAAY,AAAUH;AAAV;AAAA,AACE,AAAAU,AAAW,AAACF,AAAcvB,AAAWC,AAAQE;AAA7C,AAAA,AAAAsB,AAAAA,AAACX,AAAAA,AAAAA;;;AADf;AAHpB,AAAA,AAAA,AAAA,AAAA,AAAA,AAKWY,AACO,AAAClB,AAAMR,AACPC;AAPlB,AAAA;AAAA,AAAA,AAAA,AASsBc,AACE,AAACO,AAAY,AAACtB,AAAAA,AAAAA,AAAWC,AAAAA,AAASR,AACxC,AAACuB,AAAAA,AAAAA,AAASJ,AAAAA;;AAG9B,AAAA,AAAA,AAAA,AAAA,AAAA,AAAae;AAKb,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAaC;AAQb,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAaC;AASb,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC,AAC6GC,AACAC,AACAC,AACAC,AACAA,AAIAC,AACAA,AACAA,AAGAF,AACAG,AACAC,AACAC;AAGlH,AAAA,AAAAC,AAAOM;AAAP,AAAA,AAAAL,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAC,AAAA,AAAAD,AAAA,AAAA,AAAA,AAAA,AAAAE,AAAAC,AAAAH,AAAAA;AAAAA,AAEUiB;AAFV,AAAAb,AAAAJ,AAAA,AACiHzB;AADjH,AAAA6B,AAAAJ,AAAA,AACyB1B;AADzB,AAAA8B,AAAAJ,AAAA,AAC+FU;AAD/F,AAAAN,AAAAJ,AAAA,AACwIa;AADxI,AAAAT,AAAAJ,AAAA,AACmBO;AADnB,AAAAH,AAAAJ,AAAA,AACkKgB;AADlK,AAAAZ,AAAAJ,AAAA,AACyCxB;AADzC,AAAA4B,AAAAJ,AAAA,AAC+ErC;AAD/E,AAAAyC,AAAAJ,AAAA,AACgE/C;AADhE,AAAAmD,AAAAJ,AAAA,AACsGW;AADtG,AAAAP,AAAAJ,AAAA,AAC2HY;AAD3H,AAAAR,AAAAJ,AAAA,AACyFS;AADzF,AAAAL,AAAAJ,AAAA,AACWM;AADX,AAAAF,AAAAJ,AAAA,AACmC3B;AADnC,AAAA+B,AAAAJ,AAAA,AAC4Je;AAD5J,AAAAX,AAAAJ,AAAA,AACsJc;AADtJ,AAAAV,AAAAJ,AAAA,AACkDQ;AADlD,AAAA,AAGS,AAAA,AAAAU,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA,AAAqB9B,AAAyB2B;AAHvD;AAAA,AAAA,AAAA,AAAAlE,AAAA;;;AAIE,AAAMsE,AAAS,AAAIb,AAAcD,AAAM,AAAA,AAAAe,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAIf,AAAMvC,AAAauD;AACxDC,AAAS,AAACC,AAAI,AAAA,AAAAC,AAAIb;AAAJ,AACG,AAAAa,AAAAA,AAACb,AAAAA,AAAAA,AAAgBxC,AAAAA,AAAMgD,AAAAA,AAAS/C,AAAAA,AAAUC,AAAAA,AAAUC,AAAAA,AAASb,AAAAA,AAAUV,AAAAA;AACxE,AAAA,AAAA0E,AAAInB;AAAJ,AACG,AAAAmB,AAACxD,AAAaE,AAAMgD,AAAS/C,AAAUC,AAAUC,AAASb,AAAUV;AADvE,AAAA2E;AAAA,AAEG,AAAAA,AAAC5C,AAAWX,AAAMgD,AAAS/C,AAAUC,AAAUC,AAASb,AAAUV;AACvEqD;AACduB,AAAS,AAAA,AAAA,AAAA,AAAA,AAACC,AAAYb;AACtBc,AAAS,AAAInB,AAAavB,AAAA,AAAmBD,AAAA;AARnD,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAYG4C,AACQ,AAAA,AAA0BlB,AAC1BC,AACAC,AAEA,AAAA,AAAA,AAAA,AAAMJ,AACN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAACqB,AAAgD,AAAC3E,AAAM6B,AAAA,AAAW0C,AAAOE,AAAWP;;AAGlG;;;AAAA,AAAOU,AAEJC;AAFH,AAGE,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAC7E,AAOM,AAAC8E,AAAKC,AAAeF;;AAE9B,AAAA;;;AAAA,AAAAvF,AAAM+F;AAAN,AAAA,AAAAL,AAAA;AAAA,AAAA,AAAAC,AAAA,AAAA;AAAA,AAAA,AAAAC,AAAA;;AAAA,AAAA,AAAA,AAAAA,AAAAD;AAAA,AAAA,AAAAD,AAAA,AAAA,AAAAE;;AAAA,AAAA,AAAAA,AAAA;;;;AAAA;;;;AAAA,AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAH,AAAA,AAAA,AAAAI,AAAA,AAAAJ,AAAA,AAAA,AAAA,AAAA;AAAA,AAAA,AAAAK,AAAAF;;;AAAA,AAAA,AAAA,AAAA,AAAAG,AAAMD;AAAN,AAAA,AAAAE,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA5C,AAAA,AAAA4C,AAAA,AAAA,AAAA,AAAA,AAAA3C,AAAAC,AAAA0C,AAAAA;AAAAA,AAEU5B;AAFV,AAAA,AAGS,AAAA,AAAAC,AAAA,AAAA,AAAAC,AAAA,AAAAC,AAAA,AAAqB9B,AAAyB2B;AAHvD;AAAA,AAAA,AAAA,AAAAlE,AAAA;;;AAOE;AAAAkG;AAAA,AAAA,AAAAC,AAAAD;AAAAC,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAAA,AAAA,AAAA,AAAAjD,AAAA,AAAAiD,AAAA,AAAA,AAAA,AAAA,AAAAhD,AAAAC,AAAA+C,AAAAA;AAAAA,AAAYjC;AAAZ,AAAA,AACGZ,AAAe,AAAC6B,AAAUjB;;;AAD7BgC;;;;AAAAA;;AAAAA;;;AAAAA;AAAAA;;;;;;;;AAPF,AAAA,AAAA,AAAMN;;AAAN;AAAA,AAAA,AAAA,AAAAG,AAAMH;AAAN,AAAA,AAAAI,AAAA;AAAA,AAAA,AAAAA,AAAA,AAAAC,AAAAF;;;AAAA","names":["var_args","G__54485","re-com.selection-list/label-style","js/Error","selected?","as-exclusions?","re_com.selection_list.label_style.cljs$core$IFn$_invoke$arity$3","selected-color","base-style","and__4174__auto__","cljs.core.merge.cljs$core$IFn$_invoke$arity$variadic","re-com.selection-list/check-clicked","selections","item-id","ticked?","required?","num-selected","cljs.core/count","only-item","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","cljs.core/first","cljs.core.conj.cljs$core$IFn$_invoke$arity$2","cljs.core.disj.cljs$core$IFn$_invoke$arity$2","re-com.selection-list/as-checked","item","id-fn","on-change","disabled?","label-fn","re-com.box/box","event","G__54495","cljs.core/not","re-com.misc/checkbox","re_com.selection_list.label_style.cljs$core$IFn$_invoke$arity$2","re-com.selection-list/radio-clicked","re-com.selection-list/as-radio","G__54508","re-com.misc/radio-button","re-com.selection-list/list-style","re-com.selection-list/spacing-bordered","re-com.selection-list/spacing-unbordered","re-com.selection-list/selection-list-args-desc","re-com.validate/vector-of-maps?","re-com.validate/set-or-atom?","cljs.core/fn?","cljs.core/ifn?","re-com.validate/string-or-atom?","cljs.core/string?","re-com.validate/css-style?","re-com.validate/html-attr?","p__54531","map__54534","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core.get.cljs$core$IFn$_invoke$arity$2","re-com.selection-list/list-container","choices","model","multi-select?","width","height","max-height","hide-border?","item-renderer","class","style","attr","args","js/goog.DEBUG","re_com.validate.validate_args.cljs$core$IFn$_invoke$arity$variadic","re-com.validate/extract-arg-data","selected","cljs.core/PersistentVector","cljs.core/set","items","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p1__54528#","p1__54529#","p1__54530#","bounds","cljs.core/select-keys","spacing","re-com.box/border","cljs.core.into.cljs$core$IFn$_invoke$arity$2","re-com.selection-list/configure","attributes","re-com.util/fmap","re-com.util/deref-or-value","args__4795__auto__","len__4789__auto__","i__4790__auto__","argseq__4796__auto__","cljs.core/IndexedSeq","re-com.selection-list/selection-list","p__54618","map__54619","seq54613","self__4777__auto__","cljs.core/seq","p__54624","map__54626"],"sourcesContent":["(ns re-com.selection-list\n  (:require-macros [re-com.core :refer [handler-fn]])\n  (:require\n    [re-com.text     :refer [label]]\n    [re-com.misc     :refer [checkbox radio-button]]\n    [re-com.box      :refer [box border h-box v-box]]\n    [re-com.validate :refer [vector-of-maps? string-or-atom? set-or-atom? css-style? html-attr?] :refer-macros [validate-args-macro]]\n    [re-com.util     :refer [fmap deref-or-value]]))\n\n;; ----------------------------------------------------------------------------\n(defn label-style\n  ([selected? as-exclusions?]\n    (label-style selected? as-exclusions? nil))\n\n  ([selected? as-exclusions? selected-color]\n    ;;TODO: margin-top required because currently checkbox & radio-button don't center label\n    (let [base-style {:margin-top \"1px\"}\n          base-style (if (and selected? as-exclusions?)\n                       (merge base-style {:text-decoration \"line-through\"})\n                       base-style)\n          base-style (if (and selected? selected-color)\n                       (merge base-style {:color selected-color})\n                       base-style)]\n          base-style)))\n\n\n(defn- check-clicked\n  [selections item-id ticked? required?]\n  (let [num-selected (count selections)\n        only-item    (when (= 1 num-selected) (first selections))]\n    (if (and required? (= only-item item-id))\n      selections  ;; prevent unselect of last item\n      (if ticked? (conj selections item-id) (disj selections item-id)))))\n\n(defn- as-checked\n  [item id-fn selections on-change disabled? label-fn required? as-exclusions?]\n  ;;TODO: Do we really need an anchor now that bootstrap styles not realy being used ?\n  (let [item-id (id-fn item)]\n    [box\n     :class \"list-group-item compact\"\n     :attr {:on-click (handler-fn (when-not disabled?\n                                    (on-change (check-clicked selections item-id (not (selections item-id)) required?))))}\n     :child [checkbox\n             :model (some? (selections item-id))\n             :on-change #()                                 ;; handled by enclosing box\n             :disabled? disabled?\n             :label-style (label-style (selections item-id) as-exclusions?)\n             :label (label-fn item)]]))\n\n\n(defn- radio-clicked\n  [selections item-id required?]\n  (if (and required? (selections item-id))\n    selections  ;; prevent unselect of radio\n    (if (selections item-id) #{} #{item-id})))\n\n(defn- as-radio\n  [item id-fn selections on-change disabled? label-fn required? as-exclusions?]\n  (let [item-id (id-fn item)]\n    [box\n     :class \"list-group-item compact\"\n     :attr {:on-click (handler-fn (when-not disabled?\n                                    (on-change (radio-clicked selections item-id required?))))}\n     :child [radio-button\n             :model (first selections)\n             :value item-id\n             :on-change #()                                 ;; handled by enclosing box\n             :disabled? disabled?\n             :label-style (label-style (selections item-id) as-exclusions?)\n             :label (label-fn item)]]))\n\n\n(def ^:const list-style\n  ;;TODO: These should be in CSS resource\n  {:overflow-x     \"hidden\"\n   :overflow-y     \"auto\"}) ;;TODO this should be handled by scroller later\n\n(def ^:const spacing-bordered\n  {:padding-top    \"0px\"\n   :padding-bottom \"0px\"\n   :padding-left   \"5px\"\n   :padding-right  \"5px\"\n   :margin-top     \"5px\"\n   :margin-bottom  \"5px\"})\n\n(def ^:const spacing-unbordered\n  {:padding-left   \"0px\"\n   :padding-right  \"5px\"\n   :padding-top    \"0px\"\n   :padding-bottom \"0px\"\n   :margin-top     \"0px\"\n   :margin-bottom  \"0px\"})\n\n\n(def selection-list-args-desc\n  [{:name :choices        :required true                  :type \"vector of choices | atom\"           :validate-fn vector-of-maps? :description [:span \"the selectable items. Elements can be strings or more interesting data items like {:label \\\"some name\\\" :sort 5}. Also see \" [:code \":label-fn\"] \" below (list of maps also allowed)\"]}\n   {:name :model          :required true                  :type \"set of :ids within :choices | atom\" :validate-fn set-or-atom?    :description \"the currently selected items. Note: items are considered distinct\"}\n   {:name :on-change      :required true                  :type \"set of :ids -> nil | atom\"          :validate-fn fn?             :description [:span \"a callback which will be passed set of the ids (as defined by \" [:code \":id-fn\"] \") of the selected items\"]}\n   {:name :id-fn          :required false :default :id    :type \"choice -> anything\"                 :validate-fn ifn?            :description [:span \"given an element of \" [:code \":choices\"] \", returns its unique identifier (aka id)\"]}\n   {:name :label-fn       :required false :default :label :type \"choice -> anything\"                 :validate-fn ifn?            :description [:span \"given an element of \" [:code \":choices\"] \", returns its displayable label\"]}\n   {:name :multi-select?  :required false :default true   :type \"boolean | atom\"                                                  :description \"when true, use check boxes, otherwise radio buttons\"}\n   {:name :as-exclusions? :required false :default false  :type \"boolean | atom\"                                                  :description \"when true, selected items are shown with struck-out labels\"}\n   {:name :required?      :required false :default false  :type \"boolean | atom\"                                                  :description \"when true, at least one item must be selected. Note: being able to un-select a radio button is not a common use case, so this should probably be set to true when in single select mode\"}\n   {:name :width          :required false                 :type \"string | atom\"                      :validate-fn string-or-atom? :description \"a CSS style e.g. \\\"250px\\\". When specified, item labels may be clipped. Otherwise based on widest label\"}\n   {:name :height         :required false                 :type \"string | atom\"                      :validate-fn string-or-atom? :description \"a CSS style e.g. \\\"150px\\\". Size beyond which items will scroll\"}\n   {:name :max-height     :required false                 :type \"string | atom\"                      :validate-fn string-or-atom? :description \"a CSS style e.g. \\\"150px\\\". If there are less items then this height, box will shrink. If there are more, items will scroll\"}\n   {:name :disabled?      :required false :default false  :type \"boolean | atom\"                                                  :description \"when true, the time input will be disabled. Can be atom or value\"}\n   {:name :hide-border?   :required false :default false  :type \"boolean | atom\"                                                  :description \"when true, the list will be displayed without a border\"}\n   {:name :item-renderer  :required false                 :type \"-> nil | atom\"                      :validate-fn fn?             :description \"a function which takes no params and returns nothing. Called for each element during setup, the returned component renders the element, responds to clicks etc.\"}\n   {:name :class          :required false                 :type \"string\"                             :validate-fn string?         :description \"CSS class names, space separated (applies to the outer container)\"}\n   {:name :style          :required false                 :type \"CSS style map\"                      :validate-fn css-style?      :description \"CSS styles to add or override (applies to the outer container)\"}\n   {:name :attr           :required false                 :type \"HTML attr map\"                      :validate-fn html-attr?      :description [:span \"HTML attributes, like \" [:code \":on-mouse-move\"] [:br] \"No \" [:code \":class\"] \" or \" [:code \":style\"] \"allowed (applies to the outer container)\"]}])\n\n;;TODO hide hover highlights for links when disabled\n(defn- list-container\n  [{:keys [choices model on-change id-fn label-fn multi-select? as-exclusions? required? width height max-height disabled? hide-border? item-renderer class style attr]\n    :as   args}]\n  {:pre [(validate-args-macro selection-list-args-desc args \"selection-list\")]}\n  (let [selected (if multi-select? model (-> model first vector set))\n        items    (map (if item-renderer\n                        #(item-renderer % id-fn selected on-change disabled? label-fn required? as-exclusions?)  ;; TODO do we need to pass id-fn?\n                        (if multi-select?\n                          #(as-checked % id-fn selected on-change disabled? label-fn required? as-exclusions?)\n                          #(as-radio % id-fn selected on-change disabled? label-fn required? as-exclusions?)))\n                      choices)\n        bounds   (select-keys args [:width :height :max-height])\n        spacing  (if hide-border? spacing-unbordered spacing-bordered)]\n    ;; In single select mode force selections to one. This causes a second render\n    ;; TODO: GR commented this out to fix the bug where #{nil} was being returned for an empty list. Remove when we're sure there are no ill effects.\n    #_(when-not (= selected model) (on-change selected))\n    [border\n     :class  (str \"rc-selection-list \" class)\n     :style  style\n     :attr   attr\n     :radius \"4px\"\n     :border (when hide-border? \"none\")\n     :child  (into [:div {:class \"list-group noselect\" :style (merge list-style bounds spacing)}] items)]))\n\n\n(defn- configure\n  \"Augment passed attributes with defaults and deref any atoms\"\n  [attributes]\n  (merge {:multi-select?  true\n          :as-exclusions? false\n          :required?      false\n          :disabled?      false\n          :hide-border?   false\n          :id-fn          :id\n          :label-fn       :label}\n         (fmap deref-or-value attributes)))\n\n(defn selection-list\n  \"Produce a list box with items arranged vertically\"\n  [& {:as args}]\n  {:pre [(validate-args-macro selection-list-args-desc args \"selection-list\")]}\n  ;;NOTE: Consumer has complete control over what is selected or not. A current design tradeoff\n  ;;      causes all selection changes to trigger a complete list re-render as a result of on-change callback.\n  ;;      this approach may be not ideal for very large list choices.\n  (fn [& {:as args}]\n    [list-container (configure args)]))\n"]}